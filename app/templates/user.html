{% extends "base.html" %}

{% block content %}

  <br>

  <div class="row blue-grey darken-1 grey-text lighten-5">
    <br>
    <div class="col s12 m5">
      <img class="circle" src="{{ user.avatar(200) }}">
    </div>
    <div class="col s12 m7">
      <h1> {{ user.username }} </h1>
      {% if user.about_me %}<p>{{ user.about_me }}</p>{% endif %}

      <div class="row">
        <div class="col s4">
          <a class="waves-effect waves-light btn red darken-4">{{ user.followers.count() }} Followers</a>
        </div>
        <div class="col s4">
          <a class="waves-effect waves-light btn red darken-4">{{ user.followed.count() }} Followed</a>
        </div>
        <div class="col s4">
          {% if user == current_user %}
          <a class="waves-effect waves-light btn red darken-4" href="{{ url_for('edit_profile') }}">Edit profile</a>
          {% elif not current_user.is_following(user) %}
          <a class="waves-effect waves-light btn red darken-4" href="{{ url_for('follow', username=user.username) }}">Follow</a>
          {% else %}
          <a class="waves-effect waves-light btn-flat red darken-4" href="{{ url_for('unfollow', username=user.username) }}">Unfollow</a>
          {% endif %}
        </div>
      </div>
      <br>
    </div>
    <br>
  </div>

  <div class="row">
    {% for post in posts %}
      {% include '_post.html' %}
    {% endfor %}
  </div>

  {% include '_pagination.html' %}

{% endblock %}
